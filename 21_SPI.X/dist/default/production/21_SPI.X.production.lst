

Microchip Technology PIC LITE Macro Assembler V1.32 build 58300 
                                                                                               Sat May 06 00:39:47 2023

Microchip Technology Omniscient Code Generator (Lite mode) build 58300
     1                           	processor	16F887
     2                           	opt	pw 120
     3                           	opt	lm
     4                           	psect	text0,local,class=CODE,merge=1,delta=2
     5                           	psect	cinit,global,class=CODE,merge=1,delta=2
     6                           	psect	cstackCOMMON,global,class=COMMON,space=1,delta=1
     7                           	psect	maintext,global,class=CODE,split=1,delta=2
     8                           	psect	text1,local,class=CODE,merge=1,delta=2
     9                           	psect	text2,local,class=CODE,merge=1,delta=2
    10                           	dabs	1,0x7E,2
    11  0000                     	;# 
    12  0001                     	;# 
    13  0002                     	;# 
    14  0003                     	;# 
    15  0004                     	;# 
    16  0005                     	;# 
    17  0006                     	;# 
    18  0007                     	;# 
    19  0008                     	;# 
    20  0009                     	;# 
    21  000A                     	;# 
    22  000B                     	;# 
    23  000C                     	;# 
    24  000D                     	;# 
    25  000E                     	;# 
    26  000E                     	;# 
    27  000F                     	;# 
    28  0010                     	;# 
    29  0011                     	;# 
    30  0012                     	;# 
    31  0013                     	;# 
    32  0014                     	;# 
    33  0015                     	;# 
    34  0015                     	;# 
    35  0016                     	;# 
    36  0017                     	;# 
    37  0018                     	;# 
    38  0019                     	;# 
    39  001A                     	;# 
    40  001B                     	;# 
    41  001B                     	;# 
    42  001C                     	;# 
    43  001D                     	;# 
    44  001E                     	;# 
    45  001F                     	;# 
    46  0081                     	;# 
    47  0085                     	;# 
    48  0086                     	;# 
    49  0087                     	;# 
    50  0088                     	;# 
    51  0089                     	;# 
    52  008C                     	;# 
    53  008D                     	;# 
    54  008E                     	;# 
    55  008F                     	;# 
    56  0090                     	;# 
    57  0091                     	;# 
    58  0092                     	;# 
    59  0093                     	;# 
    60  0093                     	;# 
    61  0093                     	;# 
    62  0094                     	;# 
    63  0095                     	;# 
    64  0096                     	;# 
    65  0097                     	;# 
    66  0098                     	;# 
    67  0099                     	;# 
    68  009A                     	;# 
    69  009B                     	;# 
    70  009C                     	;# 
    71  009D                     	;# 
    72  009E                     	;# 
    73  009F                     	;# 
    74  0105                     	;# 
    75  0107                     	;# 
    76  0108                     	;# 
    77  0109                     	;# 
    78  010C                     	;# 
    79  010C                     	;# 
    80  010D                     	;# 
    81  010E                     	;# 
    82  010F                     	;# 
    83  0185                     	;# 
    84  0187                     	;# 
    85  0188                     	;# 
    86  0189                     	;# 
    87  018C                     	;# 
    88  018D                     	;# 
    89  000C                     _PIR1bits	set	12
    90  0008                     _PORTDbits	set	8
    91  0013                     _SSPBUF	set	19
    92  0014                     _SSPCONbits	set	20
    93  0094                     _SSPSTATbits	set	148
    94  0087                     _TRISCbits	set	135
    95  0088                     _TRISDbits	set	136
    96                           
    97                           	psect	text0
    98  0000                     __ptext0:	
    99                           ; #config settings
   100                           
   101                           
   102                           	psect	cinit
   103  07FC                     start_initialization:	
   104                           ;psect for function _spi_read
   105                           
   106  07FC                     __initialization:	
   107  07FC                     end_of_initialization:	
   108                           ;End of C runtime variable initialization code
   109                           
   110  07FC                     __end_of__initialization:	
   111  07FC  0183               	clrf	3
   112  07FD  120A  118A  2FBA   	ljmp	_main	;jump to C main() function
   113                           
   114                           	psect	cstackCOMMON
   115  0070                     __pcstackCOMMON:	
   116  0070                     ?_spi_write:	
   117  0070                     ??_spi_read:	
   118                           ; 0 bytes @ 0x0
   119                           
   120  0070                     ?_spi_read:	
   121                           ; 0 bytes @ 0x0
   122                           
   123  0070                     ?_main:	
   124                           ; 1 bytes @ 0x0
   125                           
   126  0070                     spi_write@v:	
   127                           ; 2 bytes @ 0x0
   128                           
   129                           
   130                           ; 2 bytes @ 0x0
   131  0070                     	ds	2
   132  0072                     ??_spi_write:	
   133  0072                     ??_main:	
   134                           ; 0 bytes @ 0x2
   135                           
   136                           
   137                           ; 0 bytes @ 0x2
   138  0072                     	ds	3
   139  0075                     main@a:	
   140                           
   141                           ; 1 bytes @ 0x5
   142  0075                     	ds	1
   143                           
   144                           	psect	maintext
   145  07BA                     __pmaintext:	
   146 ;;
   147 ;;Main: autosize = 0, tempsize = 3, incstack = 0, save=0
   148 ;;
   149 ;; *************** function _main *****************
   150 ;; Defined at:
   151 ;;		line 31 in file "spi.c"
   152 ;; Parameters:    Size  Location     Type
   153 ;;		None
   154 ;; Auto vars:     Size  Location     Type
   155 ;;  a               1    5[COMMON] unsigned char 
   156 ;; Return value:  Size  Location     Type
   157 ;;                  2   30[COMMON] int 
   158 ;; Registers used:
   159 ;;		wreg, status,2, status,0, pclath, cstack
   160 ;; Tracked objects:
   161 ;;		On entry : 17F/0
   162 ;;		On exit  : 0/0
   163 ;;		Unchanged: 0/0
   164 ;; Data sizes:     COMMON   BANK0   BANK1   BANK3   BANK2
   165 ;;      Params:         0       0       0       0       0
   166 ;;      Locals:         1       0       0       0       0
   167 ;;      Temps:          3       0       0       0       0
   168 ;;      Totals:         4       0       0       0       0
   169 ;;Total ram usage:        4 bytes
   170 ;; Hardware stack levels required when called:    1
   171 ;; This function calls:
   172 ;;		_spi_read
   173 ;;		_spi_write
   174 ;; This function is called by:
   175 ;;		Startup code after reset
   176 ;; This function uses a non-reentrant model
   177 ;;
   178                           
   179                           
   180                           ;psect for function _main
   181  07BA                     _main:	
   182                           
   183                           ;spi.c: 33: TRISCbits.TRISC3=0;
   184                           
   185                           ;incstack = 0
   186                           ; Regs used in _main: [wreg+status,2+status,0+pclath+cstack]
   187  07BA  1683               	bsf	3,5	;RP0=1, select bank1
   188  07BB  1303               	bcf	3,6	;RP1=0, select bank1
   189  07BC  1187               	bcf	7,3	;volatile
   190                           
   191                           ;spi.c: 34: TRISCbits.TRISC4=1;
   192  07BD  1607               	bsf	7,4	;volatile
   193                           
   194                           ;spi.c: 35: TRISCbits.TRISC5=0;
   195  07BE  1287               	bcf	7,5	;volatile
   196                           
   197                           ;spi.c: 36: TRISDbits.TRISD0=0;
   198  07BF  1008               	bcf	8,0	;volatile
   199                           
   200                           ;spi.c: 39: SSPCONbits.SSPEN=1;
   201  07C0  1283               	bcf	3,5	;RP0=0, select bank0
   202  07C1  1303               	bcf	3,6	;RP1=0, select bank0
   203  07C2  1694               	bsf	20,5	;volatile
   204                           
   205                           ;spi.c: 40: SSPCONbits.CKP=0;
   206  07C3  1214               	bcf	20,4	;volatile
   207                           
   208                           ;spi.c: 41: SSPCONbits.SSPM=0b0000;
   209  07C4  30F0               	movlw	-16
   210  07C5  0594               	andwf	20,f	;volatile
   211                           
   212                           ;spi.c: 43: SSPSTATbits.SMP=0;
   213  07C6  1683               	bsf	3,5	;RP0=1, select bank1
   214  07C7  1303               	bcf	3,6	;RP1=0, select bank1
   215  07C8  1394               	bcf	20,7	;volatile
   216                           
   217                           ;spi.c: 44: SSPSTATbits.CKE=0;
   218  07C9  1314               	bcf	20,6	;volatile
   219  07CA                     l507:	
   220                           ;spi.c: 46: while(1){
   221                           
   222                           
   223                           ;spi.c: 47: PORTDbits.RD0=0;
   224  07CA  1283               	bcf	3,5	;RP0=0, select bank0
   225  07CB  1303               	bcf	3,6	;RP1=0, select bank0
   226  07CC  1008               	bcf	8,0	;volatile
   227                           
   228                           ;spi.c: 48: spi_write(8);
   229  07CD  3008               	movlw	8
   230  07CE  00F0               	movwf	spi_write@v
   231  07CF  3000               	movlw	0
   232  07D0  00F1               	movwf	spi_write@v+1
   233  07D1  120A  118A  27B1  120A  118A  	fcall	_spi_write
   234                           
   235                           ;spi.c: 49: PORTDbits.RD0=1;
   236  07D6  1283               	bcf	3,5	;RP0=0, select bank0
   237  07D7  1303               	bcf	3,6	;RP1=0, select bank0
   238  07D8  1408               	bsf	8,0	;volatile
   239                           
   240                           ;spi.c: 50: _delay((unsigned long)((100)*(20000000/4000.0)));
   241  07D9  3003               	movlw	3
   242  07DA  00F4               	movwf	??_main+2
   243  07DB  308A               	movlw	138
   244  07DC  00F3               	movwf	??_main+1
   245  07DD  3056               	movlw	86
   246  07DE  00F2               	movwf	??_main
   247  07DF                     u37:	
   248  07DF  0BF2               	decfsz	??_main,f
   249  07E0  2FDF               	goto	u37
   250  07E1  0BF3               	decfsz	??_main+1,f
   251  07E2  2FDF               	goto	u37
   252  07E3  0BF4               	decfsz	??_main+2,f
   253  07E4  2FDF               	goto	u37
   254  07E5  2FE6               	nop2
   255                           
   256                           ;spi.c: 52: unsigned char a =spi_read();
   257  07E6  120A  118A  27AA  120A  118A  	fcall	_spi_read
   258  07EB  00F2               	movwf	??_main
   259  07EC  0872               	movf	??_main,w
   260  07ED  00F5               	movwf	main@a
   261                           
   262                           ;spi.c: 53: _delay((unsigned long)((100)*(20000000/4000.0)));
   263  07EE  3003               	movlw	3
   264  07EF  00F4               	movwf	??_main+2
   265  07F0  308A               	movlw	138
   266  07F1  00F3               	movwf	??_main+1
   267  07F2  3056               	movlw	86
   268  07F3  00F2               	movwf	??_main
   269  07F4                     u47:	
   270  07F4  0BF2               	decfsz	??_main,f
   271  07F5  2FF4               	goto	u47
   272  07F6  0BF3               	decfsz	??_main+1,f
   273  07F7  2FF4               	goto	u47
   274  07F8  0BF4               	decfsz	??_main+2,f
   275  07F9  2FF4               	goto	u47
   276  07FA  2FFB               	nop2
   277  07FB  2FCA               	goto	l507
   278  07FC                     __end_of_main:	
   279                           ;spi.c: 54: }
   280                           ;spi.c: 56: return (0);
   281                           ;	Return value of _main is never used
   282                           
   283                           
   284                           	psect	text1
   285  07B1                     __ptext1:	
   286 ;; *************** function _spi_write *****************
   287 ;; Defined at:
   288 ;;		line 16 in file "spi.c"
   289 ;; Parameters:    Size  Location     Type
   290 ;;  v               2    0[COMMON] unsigned int 
   291 ;; Auto vars:     Size  Location     Type
   292 ;;		None
   293 ;; Return value:  Size  Location     Type
   294 ;;		None               void
   295 ;; Registers used:
   296 ;;		wreg
   297 ;; Tracked objects:
   298 ;;		On entry : 0/0
   299 ;;		On exit  : 0/0
   300 ;;		Unchanged: 0/0
   301 ;; Data sizes:     COMMON   BANK0   BANK1   BANK3   BANK2
   302 ;;      Params:         2       0       0       0       0
   303 ;;      Locals:         0       0       0       0       0
   304 ;;      Temps:          0       0       0       0       0
   305 ;;      Totals:         2       0       0       0       0
   306 ;;Total ram usage:        2 bytes
   307 ;; Hardware stack levels used:    1
   308 ;; This function calls:
   309 ;;		Nothing
   310 ;; This function is called by:
   311 ;;		_main
   312 ;; This function uses a non-reentrant model
   313 ;;
   314                           
   315                           
   316                           ;psect for function _spi_write
   317  07B1                     _spi_write:	
   318                           
   319                           ;spi.c: 17: SSPBUF=v;
   320                           
   321                           ;incstack = 0
   322                           ; Regs used in _spi_write: [wreg]
   323  07B1  0870               	movf	spi_write@v,w
   324  07B2  1283               	bcf	3,5	;RP0=0, select bank0
   325  07B3  1303               	bcf	3,6	;RP1=0, select bank0
   326  07B4  0093               	movwf	19	;volatile
   327  07B5                     l19:	
   328                           ;spi.c: 18: while(!SSPSTATbits.BF){
   329                           
   330  07B5  1683               	bsf	3,5	;RP0=1, select bank1
   331  07B6  1303               	bcf	3,6	;RP1=0, select bank1
   332  07B7  1814               	btfsc	20,0	;volatile
   333  07B8  0008               	return
   334  07B9  2FB5               	goto	l19
   335  07BA                     __end_of_spi_write:	
   336                           
   337                           	psect	text2
   338  07AA                     __ptext2:	
   339 ;; *************** function _spi_read *****************
   340 ;; Defined at:
   341 ;;		line 23 in file "spi.c"
   342 ;; Parameters:    Size  Location     Type
   343 ;;		None
   344 ;; Auto vars:     Size  Location     Type
   345 ;;		None
   346 ;; Return value:  Size  Location     Type
   347 ;;                  1    wreg      unsigned char 
   348 ;; Registers used:
   349 ;;		wreg, status,2
   350 ;; Tracked objects:
   351 ;;		On entry : 0/0
   352 ;;		On exit  : 0/0
   353 ;;		Unchanged: 0/0
   354 ;; Data sizes:     COMMON   BANK0   BANK1   BANK3   BANK2
   355 ;;      Params:         0       0       0       0       0
   356 ;;      Locals:         0       0       0       0       0
   357 ;;      Temps:          0       0       0       0       0
   358 ;;      Totals:         0       0       0       0       0
   359 ;;Total ram usage:        0 bytes
   360 ;; Hardware stack levels used:    1
   361 ;; This function calls:
   362 ;;		Nothing
   363 ;; This function is called by:
   364 ;;		_main
   365 ;; This function uses a non-reentrant model
   366 ;;
   367                           
   368                           
   369                           ;psect for function _spi_read
   370  07AA                     _spi_read:	
   371                           
   372                           ;spi.c: 24: SSPBUF=0x00;
   373                           
   374                           ;incstack = 0
   375                           ; Regs used in _spi_read: [wreg+status,2]
   376  07AA  1283               	bcf	3,5	;RP0=0, select bank0
   377  07AB  1303               	bcf	3,6	;RP1=0, select bank0
   378  07AC  0193               	clrf	19	;volatile
   379  07AD                     l25:	
   380                           ;spi.c: 25: while(!PIR1bits.SSPIF){
   381                           
   382  07AD  1D8C               	btfss	12,3	;volatile
   383  07AE  2FAD               	goto	l25
   384                           
   385                           ;spi.c: 27: }
   386                           ;spi.c: 28: return (SSPBUF);
   387  07AF  0813               	movf	19,w	;volatile
   388  07B0  0008               	return
   389  07B1                     __end_of_spi_read:	
   390  007E                     btemp	set	126	;btemp
   391  007E                     wtemp	set	126
   392  007E                     wtemp0	set	126
   393  0080                     wtemp1	set	128
   394  0082                     wtemp2	set	130
   395  0084                     wtemp3	set	132
   396  0086                     wtemp4	set	134
   397  0088                     wtemp5	set	136
   398  007F                     wtemp6	set	127
   399  007E                     ttemp	set	126
   400  007E                     ttemp0	set	126
   401  0081                     ttemp1	set	129
   402  0084                     ttemp2	set	132
   403  0087                     ttemp3	set	135
   404  007F                     ttemp4	set	127
   405  007E                     ltemp	set	126
   406  007E                     ltemp0	set	126
   407  0082                     ltemp1	set	130
   408  0086                     ltemp2	set	134
   409  0080                     ltemp3	set	128


Data Sizes:
    Strings     0
    Constant    0
    Data        0
    BSS         0
    Persistent  0
    Stack       0

Auto Spaces:
    Space          Size  Autos    Used
    COMMON           14      6       6
    BANK0            80      0       0
    BANK1            80      0       0
    BANK3            96      0       0
    BANK2            96      0       0

Pointer List with Targets:

    None.

Critical Paths under _main in COMMON

    _main->_spi_write

Critical Paths under _main in BANK0

    None.

Critical Paths under _main in BANK1

    None.

Critical Paths under _main in BANK3

    None.

Critical Paths under _main in BANK2

    None.

Call Graph Tables:

 ---------------------------------------------------------------------------------
 (Depth) Function   	        Calls       Base Space   Used Autos Params    Refs
 ---------------------------------------------------------------------------------
 (0) _main                                                 4     4      0      58
                                              2 COMMON     4     4      0
                           _spi_read
                          _spi_write
 ---------------------------------------------------------------------------------
 (1) _spi_write                                            2     0      2      58
                                              0 COMMON     2     0      2
 ---------------------------------------------------------------------------------
 (1) _spi_read                                             0     0      0       0
 ---------------------------------------------------------------------------------
 Estimated maximum stack depth 1
 ---------------------------------------------------------------------------------

 Call Graph Graphs:

 _main (ROOT)
   _spi_read
   _spi_write

 Address spaces:
Name               Size   Autos  Total    Cost      Usage
BITCOMMON            E      0       0       0        0.0%
EEDATA             100      0       0       0        0.0%
NULL                 0      0       0       0        0.0%
CODE                 0      0       0       0        0.0%
COMMON               E      6       6       1       42.9%
BITSFR0              0      0       0       1        0.0%
SFR0                 0      0       0       1        0.0%
BITSFR1              0      0       0       2        0.0%
SFR1                 0      0       0       2        0.0%
STACK                0      0       0       2        0.0%
ABS                  0      0       0       3        0.0%
BITBANK0            50      0       0       4        0.0%
BITSFR3              0      0       0       4        0.0%
SFR3                 0      0       0       4        0.0%
BANK0               50      0       0       5        0.0%
BITSFR2              0      0       0       5        0.0%
SFR2                 0      0       0       5        0.0%
BITBANK1            50      0       0       6        0.0%
BANK1               50      0       0       7        0.0%
BITBANK3            60      0       0       8        0.0%
BANK3               60      0       0       9        0.0%
BITBANK2            60      0       0      10        0.0%
BANK2               60      0       0      11        0.0%
DATA                 0      0       0      12        0.0%


Microchip Technology PIC Macro Assembler V1.32 build 58300 
Symbol Table                                                                                   Sat May 06 00:39:47 2023

            _SSPSTATbits 0094                       l25 07AD                       l19 07B5  
                     u37 07DF                       u47 07F4                      l507 07CA  
                   _main 07BA                     btemp 007E                     ltemp 007E  
                   start 0000                     ttemp 007E                     wtemp 007E  
                  ?_main 0070                    main@a 0075                    ltemp0 007E  
                  ltemp1 0082                    ltemp2 0086                    ltemp3 0080  
                  ttemp0 007E                    ttemp1 0081                    ttemp2 0084  
                  ttemp3 0087                    ttemp4 007F                    status 0003  
                  wtemp0 007E                    wtemp1 0080                    wtemp2 0082  
                  wtemp3 0084                    wtemp4 0086                    wtemp5 0088  
                  wtemp6 007F          __initialization 07FC             __end_of_main 07FC  
                 ??_main 0072                   _SSPBUF 0013         __end_of_spi_read 07B1  
__end_of__initialization 07FC           __pcstackCOMMON 0070               __pmaintext 07BA  
     __size_of_spi_write 0009                ?_spi_read 0070                  __ptext0 0000  
                __ptext1 07B1                  __ptext2 07AA     end_of_initialization 07FC  
      __end_of_spi_write 07BA               ??_spi_read 0070                _PORTDbits 0008  
              _TRISCbits 0087                _TRISDbits 0088      start_initialization 07FC  
              ___latbits 0002        __size_of_spi_read 0007                 _PIR1bits 000C  
              _spi_write 07B1               spi_write@v 0070               ?_spi_write 0070  
          __size_of_main 0042                 _spi_read 07AA              ??_spi_write 0072  
             _SSPCONbits 0014  
